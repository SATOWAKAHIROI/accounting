# チケット #010: 仕訳管理サービス

## ステータス
- [x] 完了

## 機能概要
仕訳のCRUD操作、借方貸方バランスチェック、会計期間検証を提供するサービスクラス。

## 実装ファイル
- [x] `service/JournalService.java`
- [x] JournalRequest.java（作成済み）
- [x] JournalDetailRequest.java（作成済み）
- [x] `dto/response/JournalResponse.java`（新規作成）
- [x] `dto/response/JournalDetailResponse.java`（新規作成）

## 主要メソッド
- `List<JournalResponse> findAll(Long companyId)` - 全件取得
- `JournalResponse findById(Long id)` - ID検索
- `JournalResponse create(Long companyId, JournalRequest request)` - 作成（借方貸方検証付き）
- `JournalResponse update(Long id, JournalRequest request)` - 更新
- `void delete(Long id)` - 削除
- `List<JournalResponse> findByDateRange(Long companyId, LocalDate start, LocalDate end)` - 日付範囲検索

## ビジネスルール
- **借方合計 = 貸方合計**の検証（必須）
- 会計期間の締め状態チェック（締められた期間は変更不可）
- 仕訳番号の重複チェック
- 仕訳日が会計期間内に含まれるかチェック
- 勘定科目・補助科目・税区分・取引先の存在確認

## 計算ロジック
- 借方合計: entryType = DEBIT の amount の合計
- 貸方合計: entryType = CREDIT の amount の合計
- 差額チェック: 借方合計 - 貸方合計 = 0

## 依存関係
- JournalRepository
- JournalDetailRepository
- FiscalPeriodRepository
- AccountRepository
- SubAccountRepository
- TaxTypeRepository
- PartnerRepository
