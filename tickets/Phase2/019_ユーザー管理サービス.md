# チケット #019: ユーザー管理サービス

## ステータス
- [x] 完了

## 機能概要
ユーザーのCRUD操作、ロール管理、認証を提供するサービスクラス。

## 実装ファイル
- [x] `service/UserService.java`
- [x] `dto/request/UserRequest.java`（新規作成）
- [x] `dto/request/LoginRequest.java`（新規作成）
- [x] `dto/response/UserResponse.java`（新規作成）
- [x] `dto/response/AuthResponse.java`（新規作成）

## 主要メソッド
- `List<UserResponse> findAll()` - 全件取得
- `UserResponse findById(Long id)` - ID検索
- `UserResponse create(UserRequest request)` - 作成
- `UserResponse update(Long id, UserRequest request)` - 更新
- `void delete(Long id)` - 削除
- `AuthResponse authenticate(String email, String password)` - 認証
- `void assignRole(Long userId, Long companyId, RoleType role)` - ロール割り当て

## ビジネスルール
- メールアドレスの重複チェック（ユニーク制約）
- パスワードのハッシュ化（BCryptPasswordEncoder使用）
- ロールタイプ: ADMIN、ACCOUNTANT、VIEWER
- 認証時、JWT トークンを生成して返却

## セキュリティ
- パスワードは平文保存せず、必ずハッシュ化
- JWT トークンの有効期限設定（例: 24時間）
- リフレッシュトークンの実装（検討）

## 依存関係
- UserRepository
- UserCompanyRoleRepository
- PasswordEncoder（Spring Security）
- JwtUtil（JWT生成・検証用のユーティリティクラス、新規作成）
