# APIè¨­è¨ˆæ›¸

## ç›®æ¬¡

1. [åŸºæœ¬æ–¹é‡ãƒ»å‘½åè¦å‰‡](#1-åŸºæœ¬æ–¹é‡å‘½åè¦å‰‡)
   - [APIåŸºæœ¬ä»•æ§˜](#-apiåŸºæœ¬ä»•æ§˜)
   - [å‘½åè¦å‰‡](#-å‘½åè¦å‰‡)
   - [ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼](#-ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼)
   - [HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰](#-httpã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰)
   - [èªè¨¼ãƒ»èªå¯](#-èªè¨¼èªå¯)
   - [ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³](#-ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³)
   - [ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»æ¤œç´¢](#-ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ¤œç´¢)
   - [æ—¥ä»˜ãƒ»æ™‚åˆ»ã®å½¢å¼](#-æ—¥ä»˜æ™‚åˆ»ã®å½¢å¼)
2. [ãƒã‚¹ã‚¿ç®¡ç†ç³»API](#2-ãƒã‚¹ã‚¿ç®¡ç†ç³»api)
   - [å‹˜å®šç§‘ç›®ãƒã‚¹ã‚¿API](#2-1-å‹˜å®šç§‘ç›®ãƒã‚¹ã‚¿apiaccounts)
   - [è£œåŠ©ç§‘ç›®ãƒã‚¹ã‚¿API](#2-2-è£œåŠ©ç§‘ç›®ãƒã‚¹ã‚¿apisub-accounts)
   - [ç¨åŒºåˆ†ãƒã‚¹ã‚¿API](#2-3-ç¨åŒºåˆ†ãƒã‚¹ã‚¿apitax-types)
   - [å–å¼•å…ˆãƒã‚¹ã‚¿API](#2-4-å–å¼•å…ˆãƒã‚¹ã‚¿apipartners)
   - [å“ç›®ãƒã‚¹ã‚¿API](#2-5-å“ç›®ãƒã‚¹ã‚¿apiitems)
3. [ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³»API](#3-ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³»api-ä½œæˆäºˆå®š)
4. [ãƒ¬ãƒãƒ¼ãƒˆç³»API](#4-ãƒ¬ãƒãƒ¼ãƒˆç³»api-ä½œæˆäºˆå®š)
5. [ä¼šè¨ˆæœŸé–“ç®¡ç†API](#5-ä¼šè¨ˆæœŸé–“ç®¡ç†api-ä½œæˆäºˆå®š)
6. [èªè¨¼ãƒ»èªå¯API](#6-èªè¨¼èªå¯api-ä½œæˆäºˆå®š)

---

## 1. åŸºæœ¬æ–¹é‡ãƒ»å‘½åè¦å‰‡

### ğŸŒ APIåŸºæœ¬ä»•æ§˜

| é …ç›® | ä»•æ§˜ |
|------|------|
| **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£** | RESTful API |
| **ãƒ™ãƒ¼ã‚¹URL** | `http://localhost:8080/api` (é–‹ç™ºç’°å¢ƒ) |
| **ãƒ‡ãƒ¼ã‚¿å½¢å¼** | JSON |
| **æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°** | UTF-8 |
| **èªè¨¼æ–¹å¼** | OAuth 2.0 / JWT Bearer Token (æœ¬ç•ªç’°å¢ƒ) |
| **CORS** | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆhttp://localhost:3000ï¼‰ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ |

---

### ğŸ”¤ å‘½åè¦å‰‡

#### ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURL
- **ãƒªã‚½ãƒ¼ã‚¹å**: è¤‡æ•°å½¢ã‚’ä½¿ç”¨ï¼ˆä¾‹ï¼š`/accounts`, `/journals`ï¼‰
- **éšå±¤æ§‹é€ **: è¦ªå­é–¢ä¿‚ã‚’è¡¨ç¾ï¼ˆä¾‹ï¼š`/accounts/{id}/sub-accounts`ï¼‰
- **ã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹**: ãƒã‚¤ãƒ•ãƒ³åŒºåˆ‡ã‚Šï¼ˆä¾‹ï¼š`/fiscal-periods`ï¼‰

#### HTTPãƒ¡ã‚½ãƒƒãƒ‰
| ãƒ¡ã‚½ãƒƒãƒ‰ | ç”¨é€” | ä¾‹ |
|---------|------|-----|
| **GET** | ãƒªã‚½ãƒ¼ã‚¹ã®å–å¾—ï¼ˆä¸€è¦§ãƒ»è©³ç´°ï¼‰ | `GET /accounts` |
| **POST** | ãƒªã‚½ãƒ¼ã‚¹ã®æ–°è¦ä½œæˆ | `POST /accounts` |
| **PUT** | ãƒªã‚½ãƒ¼ã‚¹ã®å…¨ä½“æ›´æ–° | `PUT /accounts/{id}` |
| **PATCH** | ãƒªã‚½ãƒ¼ã‚¹ã®éƒ¨åˆ†æ›´æ–° | `PATCH /accounts/{id}` |
| **DELETE** | ãƒªã‚½ãƒ¼ã‚¹ã®å‰Šé™¤ | `DELETE /accounts/{id}` |

---

### ğŸ“Š ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼

#### æˆåŠŸæ™‚ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆä¸€è¦§å–å¾—ï¼‰
```json
{
  "status": "success",
  "data": [
    {
      "id": 1,
      "accountCode": "101",
      "accountName": "ç¾é‡‘",
      ...
    }
  ],
  "pagination": {
    "currentPage": 1,
    "totalPages": 5,
    "totalItems": 50,
    "itemsPerPage": 10
  }
}
```

#### æˆåŠŸæ™‚ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆè©³ç´°å–å¾—ãƒ»ä½œæˆãƒ»æ›´æ–°ï¼‰
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "accountCode": "101",
    "accountName": "ç¾é‡‘",
    ...
  }
}
```

#### ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹
```json
{
  "status": "error",
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "å…¥åŠ›å€¤ãŒä¸æ­£ã§ã™",
    "details": [
      {
        "field": "accountCode",
        "message": "å‹˜å®šç§‘ç›®ã‚³ãƒ¼ãƒ‰ã¯å¿…é ˆã§ã™"
      }
    ]
  }
}
```

---

### ğŸ”¢ HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰

| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ | æ„å‘³ | ä½¿ç”¨å ´é¢ |
|----------------|------|---------|
| **200 OK** | æˆåŠŸ | GETã€PUTã€PATCHã€DELETEã®æˆåŠŸæ™‚ |
| **201 Created** | ä½œæˆæˆåŠŸ | POSTã®æˆåŠŸæ™‚ |
| **204 No Content** | æˆåŠŸï¼ˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒœãƒ‡ã‚£ãªã—ï¼‰ | DELETEã®æˆåŠŸæ™‚ï¼ˆä»»æ„ï¼‰ |
| **400 Bad Request** | ä¸æ­£ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ |
| **401 Unauthorized** | èªè¨¼ã‚¨ãƒ©ãƒ¼ | ãƒˆãƒ¼ã‚¯ãƒ³æœªæä¾›ã€ç„¡åŠ¹ |
| **403 Forbidden** | æ¨©é™ã‚¨ãƒ©ãƒ¼ | ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã— |
| **404 Not Found** | ãƒªã‚½ãƒ¼ã‚¹ãŒå­˜åœ¨ã—ãªã„ | æŒ‡å®šIDã®ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚‰ãªã„ |
| **409 Conflict** | ç«¶åˆã‚¨ãƒ©ãƒ¼ | ä¸€æ„åˆ¶ç´„é•åï¼ˆé‡è¤‡ç™»éŒ²ï¼‰ |
| **422 Unprocessable Entity** | å‡¦ç†ä¸å¯ | ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ |
| **500 Internal Server Error** | ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ | äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ |

---

### ğŸ” èªè¨¼ãƒ»èªå¯

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ˜ãƒƒãƒ€ãƒ¼
```
Authorization: Bearer {access_token}
Content-Type: application/json
```

#### æ¨©é™ãƒ¬ãƒ™ãƒ«ï¼ˆuser_company_rolesã®roleã‚«ãƒ©ãƒ ï¼‰
| å½¹å‰² | æ¨©é™ |
|------|------|
| **admin** | å…¨ã¦ã®æ“ä½œãŒå¯èƒ½ |
| **accountant** | ä»•è¨³ãƒ»ãƒ¬ãƒãƒ¼ãƒˆãƒ»ãƒã‚¹ã‚¿ç®¡ç†ãŒå¯èƒ½ |
| **viewer** | å‚ç…§ã®ã¿å¯èƒ½ |

---

### ğŸ“„ ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
```
GET /accounts?page=1&limit=10&sort=accountCode&order=asc
```

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ |
|-----------|------|-------------|
| `page` | ãƒšãƒ¼ã‚¸ç•ªå· | 1 |
| `limit` | 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•° | 20 |
| `sort` | ã‚½ãƒ¼ãƒˆå¯¾è±¡ã‚«ãƒ©ãƒ  | id |
| `order` | ã‚½ãƒ¼ãƒˆé †ï¼ˆasc/descï¼‰ | asc |

---

### ğŸ” ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»æ¤œç´¢

#### ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ä¾‹
```
GET /accounts?accountType=asset&isActive=true&search=ç¾é‡‘
```

| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | èª¬æ˜ |
|-----------|------|
| `search` | éƒ¨åˆ†ä¸€è‡´æ¤œç´¢ï¼ˆåç§°ã€ã‚³ãƒ¼ãƒ‰ãªã©ï¼‰ |
| `{fieldName}` | å®Œå…¨ä¸€è‡´ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆä¾‹ï¼šaccountType=assetï¼‰ |

---

### ğŸ—“ï¸ æ—¥ä»˜ãƒ»æ™‚åˆ»ã®å½¢å¼

| é …ç›® | å½¢å¼ | ä¾‹ |
|------|------|-----|
| **æ—¥ä»˜** | ISO 8601ï¼ˆYYYY-MM-DDï¼‰ | "2025-01-15" |
| **æ—¥æ™‚** | ISO 8601ï¼ˆYYYY-MM-DDTHH:mm:ss.sssZï¼‰ | "2025-01-15T10:30:00.000Z" |
| **ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³** | Asia/Tokyo |

---

## 2. ãƒã‚¹ã‚¿ç®¡ç†ç³»API

ãƒã‚¹ã‚¿ç®¡ç†ç³»APIã¯ã€åŸºæœ¬çš„ã«åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆCRUDæ“ä½œï¼‰ã‚’æŒã¡ã¾ã™ã€‚

---

## 2-1. å‹˜å®šç§‘ç›®ãƒã‚¹ã‚¿APIï¼ˆAccountsï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/accounts` | GET | å‹˜å®šç§‘ç›®ä¸€è¦§å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/accounts/{id}` | GET | å‹˜å®šç§‘ç›®è©³ç´°å–å¾— | viewerä»¥ä¸Š |
| 3 | `/api/accounts` | POST | å‹˜å®šç§‘ç›®æ–°è¦ä½œæˆ | accountantä»¥ä¸Š |
| 4 | `/api/accounts/{id}` | PUT | å‹˜å®šç§‘ç›®æ›´æ–° | accountantä»¥ä¸Š |
| 5 | `/api/accounts/{id}` | DELETE | å‹˜å®šç§‘ç›®å‰Šé™¤ | admin |

---

### 1ï¸âƒ£ å‹˜å®šç§‘ç›®ä¸€è¦§å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/accounts`

**èª¬æ˜**: å‹˜å®šç§‘ç›®ã®ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™ã€‚ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚½ãƒ¼ãƒˆã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾å¿œã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ | ä¾‹ |
|-----------|-----|------|------|-----|
| `page` | integer | No | ãƒšãƒ¼ã‚¸ç•ªå· | 1 |
| `limit` | integer | No | 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•° | 20 |
| `sort` | string | No | ã‚½ãƒ¼ãƒˆå¯¾è±¡ã‚«ãƒ©ãƒ  | accountCode |
| `order` | string | No | ã‚½ãƒ¼ãƒˆé †ï¼ˆasc/descï¼‰ | asc |
| `accountType` | string | No | å‹˜å®šç§‘ç›®åŒºåˆ†ã§ãƒ•ã‚£ãƒ«ã‚¿ | asset |
| `isActive` | boolean | No | æœ‰åŠ¹ãƒ•ãƒ©ã‚°ã§ãƒ•ã‚£ãƒ«ã‚¿ | true |
| `search` | string | No | ã‚³ãƒ¼ãƒ‰ãƒ»åç§°ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢ | ç¾é‡‘ |

**accountType ã®å€¤**:
- `asset`: è³‡ç”£
- `liability`: è² å‚µ
- `equity`: ç´”è³‡ç”£
- `revenue`: åç›Š
- `expense`: è²»ç”¨

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": [
    {
      "id": 1,
      "companyId": 1,
      "accountCode": "101",
      "accountName": "ç¾é‡‘",
      "accountType": "asset",
      "displayOrder": 1,
      "isActive": true,
      "createdAt": "2025-01-01T00:00:00.000Z",
      "updatedAt": "2025-01-01T00:00:00.000Z"
    },
    {
      "id": 2,
      "companyId": 1,
      "accountCode": "102",
      "accountName": "æ™®é€šé é‡‘",
      "accountType": "asset",
      "displayOrder": 2,
      "isActive": true,
      "createdAt": "2025-01-01T00:00:00.000Z",
      "updatedAt": "2025-01-01T00:00:00.000Z"
    }
  ],
  "pagination": {
    "currentPage": 1,
    "totalPages": 3,
    "totalItems": 50,
    "itemsPerPage": 20
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `401 Unauthorized`: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹
- `403 Forbidden`: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

### 2ï¸âƒ£ å‹˜å®šç§‘ç›®è©³ç´°å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/accounts/{id}`

**èª¬æ˜**: æŒ‡å®šIDã®å‹˜å®šç§‘ç›®ã®è©³ç´°ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `id` | integer | Yes | å‹˜å®šç§‘ç›®ID |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "companyId": 1,
    "accountCode": "101",
    "accountName": "ç¾é‡‘",
    "accountType": "asset",
    "displayOrder": 1,
    "isActive": true,
    "createdAt": "2025-01-01T00:00:00.000Z",
    "updatedAt": "2025-01-01T00:00:00.000Z",
    "subAccounts": [
      {
        "id": 1,
        "subAccountCode": "101-01",
        "subAccountName": "ç¾é‡‘ï¼ˆæœ¬ç¤¾ï¼‰",
        "displayOrder": 1,
        "isActive": true
      }
    ]
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `401 Unauthorized`: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹
- `403 Forbidden`: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—
- `404 Not Found`: æŒ‡å®šIDã®å‹˜å®šç§‘ç›®ãŒå­˜åœ¨ã—ãªã„
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

### 3ï¸âƒ£ å‹˜å®šç§‘ç›®æ–°è¦ä½œæˆ

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/accounts`

**èª¬æ˜**: æ–°ã—ã„å‹˜å®šç§‘ç›®ã‚’ä½œæˆã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "accountCode": "101",
  "accountName": "ç¾é‡‘",
  "accountType": "asset",
  "displayOrder": 1,
  "isActive": true
}
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£é …ç›®**:
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
|-----------|-----|------|------|---------------|
| `accountCode` | string | Yes | å‹˜å®šç§‘ç›®ã‚³ãƒ¼ãƒ‰ | æœ€å¤§20æ–‡å­—ã€ä¸€æ„ |
| `accountName` | string | Yes | å‹˜å®šç§‘ç›®å | æœ€å¤§100æ–‡å­— |
| `accountType` | string | Yes | å‹˜å®šç§‘ç›®åŒºåˆ† | asset/liability/equity/revenue/expense |
| `displayOrder` | integer | No | è¡¨ç¤ºé † | 0ä»¥ä¸Š |
| `isActive` | boolean | No | æœ‰åŠ¹ãƒ•ãƒ©ã‚° | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: true |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ201 Createdï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "companyId": 1,
    "accountCode": "101",
    "accountName": "ç¾é‡‘",
    "accountType": "asset",
    "displayOrder": 1,
    "isActive": true,
    "createdAt": "2025-01-15T10:30:00.000Z",
    "updatedAt": "2025-01-15T10:30:00.000Z"
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `400 Bad Request`: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
  ```json
  {
    "status": "error",
    "error": {
      "code": "VALIDATION_ERROR",
      "message": "å…¥åŠ›å€¤ãŒä¸æ­£ã§ã™",
      "details": [
        {
          "field": "accountCode",
          "message": "å‹˜å®šç§‘ç›®ã‚³ãƒ¼ãƒ‰ã¯å¿…é ˆã§ã™"
        }
      ]
    }
  }
  ```
- `401 Unauthorized`: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹
- `403 Forbidden`: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—
- `409 Conflict`: å‹˜å®šç§‘ç›®ã‚³ãƒ¼ãƒ‰ãŒé‡è¤‡
  ```json
  {
    "status": "error",
    "error": {
      "code": "DUPLICATE_ERROR",
      "message": "å‹˜å®šç§‘ç›®ã‚³ãƒ¼ãƒ‰ '101' ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™"
    }
  }
  ```
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

### 4ï¸âƒ£ å‹˜å®šç§‘ç›®æ›´æ–°

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `PUT /api/accounts/{id}`

**èª¬æ˜**: æŒ‡å®šIDã®å‹˜å®šç§‘ç›®ã‚’æ›´æ–°ã—ã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `id` | integer | Yes | å‹˜å®šç§‘ç›®ID |

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "accountCode": "101",
  "accountName": "ç¾é‡‘ï¼ˆæ›´æ–°å¾Œï¼‰",
  "accountType": "asset",
  "displayOrder": 1,
  "isActive": true
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "companyId": 1,
    "accountCode": "101",
    "accountName": "ç¾é‡‘ï¼ˆæ›´æ–°å¾Œï¼‰",
    "accountType": "asset",
    "displayOrder": 1,
    "isActive": true,
    "createdAt": "2025-01-01T00:00:00.000Z",
    "updatedAt": "2025-01-15T11:00:00.000Z"
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `400 Bad Request`: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
- `401 Unauthorized`: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹
- `403 Forbidden`: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—
- `404 Not Found`: æŒ‡å®šIDã®å‹˜å®šç§‘ç›®ãŒå­˜åœ¨ã—ãªã„
- `409 Conflict`: å‹˜å®šç§‘ç›®ã‚³ãƒ¼ãƒ‰ãŒé‡è¤‡
- `422 Unprocessable Entity`: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼
  ```json
  {
    "status": "error",
    "error": {
      "code": "BUSINESS_LOGIC_ERROR",
      "message": "ã“ã®å‹˜å®šç§‘ç›®ã¯ä»•è¨³ã§ä½¿ç”¨ä¸­ã®ãŸã‚ã€åŒºåˆ†ã‚’å¤‰æ›´ã§ãã¾ã›ã‚“"
    }
  }
  ```
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

### 5ï¸âƒ£ å‹˜å®šç§‘ç›®å‰Šé™¤

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `DELETE /api/accounts/{id}`

**èª¬æ˜**: æŒ‡å®šIDã®å‹˜å®šç§‘ç›®ã‚’å‰Šé™¤ã—ã¾ã™ï¼ˆè«–ç†å‰Šé™¤æ¨å¥¨ï¼‰ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `id` | integer | Yes | å‹˜å®šç§‘ç›®ID |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "message": "å‹˜å®šç§‘ç›®ã‚’å‰Šé™¤ã—ã¾ã—ãŸ"
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `401 Unauthorized`: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹
- `403 Forbidden`: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—ï¼ˆadminä»¥å¤–ï¼‰
- `404 Not Found`: æŒ‡å®šIDã®å‹˜å®šç§‘ç›®ãŒå­˜åœ¨ã—ãªã„
- `422 Unprocessable Entity`: å‰Šé™¤ä¸å¯
  ```json
  {
    "status": "error",
    "error": {
      "code": "CANNOT_DELETE",
      "message": "ã“ã®å‹˜å®šç§‘ç›®ã¯ä»•è¨³ã§ä½¿ç”¨ä¸­ã®ãŸã‚å‰Šé™¤ã§ãã¾ã›ã‚“"
    }
  }
  ```
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

## 2-2. è£œåŠ©ç§‘ç›®ãƒã‚¹ã‚¿APIï¼ˆSub Accountsï¼‰

è£œåŠ©ç§‘ç›®ã¯å‹˜å®šç§‘ç›®ã«ç´ã¥ããŸã‚ã€ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯2ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ã‚Šã¾ã™ã€‚

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/accounts/{accountId}/sub-accounts` | GET | æŒ‡å®šå‹˜å®šç§‘ç›®ã®è£œåŠ©ç§‘ç›®ä¸€è¦§ | viewerä»¥ä¸Š |
| 2 | `/api/sub-accounts/{id}` | GET | è£œåŠ©ç§‘ç›®è©³ç´°å–å¾— | viewerä»¥ä¸Š |
| 3 | `/api/accounts/{accountId}/sub-accounts` | POST | è£œåŠ©ç§‘ç›®æ–°è¦ä½œæˆ | accountantä»¥ä¸Š |
| 4 | `/api/sub-accounts/{id}` | PUT | è£œåŠ©ç§‘ç›®æ›´æ–° | accountantä»¥ä¸Š |
| 5 | `/api/sub-accounts/{id}` | DELETE | è£œåŠ©ç§‘ç›®å‰Šé™¤ | admin |

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®æ§‹é€ ã¯å‹˜å®šç§‘ç›®ã¨åŒæ§˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³**ã§ã™ã€‚

**ä¸»è¦ãªé•ã„**:
- `accountId`ï¼ˆè¦ªã®å‹˜å®šç§‘ç›®IDï¼‰ãŒå¿…é ˆ
- `subAccountCode`ã€`subAccountName`ã‚’ä½¿ç”¨

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ä¾‹**:
```json
{
  "subAccountCode": "101-01",
  "subAccountName": "ç¾é‡‘ï¼ˆæœ¬ç¤¾ï¼‰",
  "displayOrder": 1,
  "isActive": true
}
```

---

## 2-3. ç¨åŒºåˆ†ãƒã‚¹ã‚¿APIï¼ˆTax Typesï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/tax-types` | GET | ç¨åŒºåˆ†ä¸€è¦§å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/tax-types/{id}` | GET | ç¨åŒºåˆ†è©³ç´°å–å¾— | viewerä»¥ä¸Š |
| 3 | `/api/tax-types` | POST | ç¨åŒºåˆ†æ–°è¦ä½œæˆ | admin |
| 4 | `/api/tax-types/{id}` | PUT | ç¨åŒºåˆ†æ›´æ–° | admin |
| 5 | `/api/tax-types/{id}` | DELETE | ç¨åŒºåˆ†å‰Šé™¤ | admin |

**ç‰¹è¨˜äº‹é …**:
- `taxRate`ï¼ˆç¨ç‡ï¼‰ã¯å°æ•°å‹ï¼ˆä¾‹: 0.10 = 10%ï¼‰
- `validFrom`ã€`validTo`ã§ç¨ç‡ã®é©ç”¨æœŸé–“ã‚’ç®¡ç†
- ç¨ç‡å¤‰æ›´æ™‚ã¯æ–°è¦ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆï¼ˆå±¥æ­´ç®¡ç†ï¼‰

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ä¾‹**:
```json
{
  "taxCode": "TAX10",
  "taxName": "èª²ç¨å£²ä¸Šï¼ˆ10%ï¼‰",
  "taxRate": 0.10,
  "validFrom": "2019-10-01",
  "validTo": null,
  "isActive": true
}
```

---

## 2-4. å–å¼•å…ˆãƒã‚¹ã‚¿APIï¼ˆPartnersï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/partners` | GET | å–å¼•å…ˆä¸€è¦§å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/partners/{id}` | GET | å–å¼•å…ˆè©³ç´°å–å¾— | viewerä»¥ä¸Š |
| 3 | `/api/partners` | POST | å–å¼•å…ˆæ–°è¦ä½œæˆ | accountantä»¥ä¸Š |
| 4 | `/api/partners/{id}` | PUT | å–å¼•å…ˆæ›´æ–° | accountantä»¥ä¸Š |
| 5 | `/api/partners/{id}` | DELETE | å–å¼•å…ˆå‰Šé™¤ | admin |

**ç‰¹è¨˜äº‹é …**:
- `isCustomer`ï¼ˆå¾—æ„å…ˆãƒ•ãƒ©ã‚°ï¼‰ã€`isSupplier`ï¼ˆä»•å…¥å…ˆãƒ•ãƒ©ã‚°ï¼‰ã®ä¸¡æ–¹ãŒtrueã®å ´åˆã‚‚ã‚ã‚Š

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ä¾‹**:
```json
{
  "partnerCode": "P001",
  "partnerName": "æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«å•†äº‹",
  "postalCode": "100-0001",
  "address": "æ±äº¬éƒ½åƒä»£ç”°åŒºåƒä»£ç”°1-1-1",
  "phone": "03-1234-5678",
  "email": "contact@sample.co.jp",
  "isCustomer": true,
  "isSupplier": false,
  "isActive": true
}
```

---

## 2-5. å“ç›®ãƒã‚¹ã‚¿APIï¼ˆItemsï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/items` | GET | å“ç›®ä¸€è¦§å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/items/{id}` | GET | å“ç›®è©³ç´°å–å¾— | viewerä»¥ä¸Š |
| 3 | `/api/items` | POST | å“ç›®æ–°è¦ä½œæˆ | accountantä»¥ä¸Š |
| 4 | `/api/items/{id}` | PUT | å“ç›®æ›´æ–° | accountantä»¥ä¸Š |
| 5 | `/api/items/{id}` | DELETE | å“ç›®å‰Šé™¤ | admin |

**ç‰¹è¨˜äº‹é …**:
- `itemType`ï¼ˆå“ç›®åŒºåˆ†ï¼‰: productï¼ˆå•†å“ï¼‰ã€serviceï¼ˆã‚µãƒ¼ãƒ“ã‚¹ï¼‰
- `unitPrice`ï¼ˆå˜ä¾¡ï¼‰ã¯å°æ•°å‹
- `unit`ï¼ˆå˜ä½ï¼‰: å€‹ã€æ™‚é–“ã€å°ãªã©

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ä¾‹**:
```json
{
  "itemCode": "ITEM001",
  "itemName": "Webã‚µã‚¤ãƒˆåˆ¶ä½œ",
  "itemType": "service",
  "unitPrice": 500000.00,
  "unit": "ä»¶",
  "isActive": true
}
```

---

## 3. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³»API

ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³»APIã¯ã€ä¼šè¨ˆã®ä¸­æ ¸ã¨ãªã‚‹ä»•è¨³ã€è«‹æ±‚æ›¸ã€å…¥é‡‘ã‚’ç®¡ç†ã—ã¾ã™ã€‚ãƒã‚¹ã‚¿ç®¡ç†ç³»ã¨ã¯ç•°ãªã‚Šã€ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆè¦ªï¼‰ã¨æ˜ç´°ï¼ˆå­ï¼‰ã®é–¢ä¿‚ã‚’æŒã¡ã€è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãŒå¿…è¦ã§ã™ã€‚

---

## 3-1. ä»•è¨³APIï¼ˆJournals & Journal Detailsï¼‰

ä»•è¨³ã¯ä¼šè¨ˆã®ä¸­æ ¸ã§ã‚ã‚Šã€å€Ÿæ–¹ãƒ»è²¸æ–¹ã®è¤‡å¼ç°¿è¨˜ãƒ«ãƒ¼ãƒ«ã«å¾“ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/journals` | GET | ä»•è¨³ä¸€è¦§å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/journals/{id}` | GET | ä»•è¨³è©³ç´°å–å¾—ï¼ˆæ˜ç´°å«ã‚€ï¼‰ | viewerä»¥ä¸Š |
| 3 | `/api/journals` | POST | ä»•è¨³æ–°è¦ä½œæˆï¼ˆæ˜ç´°åŒæ™‚ç™»éŒ²ï¼‰ | accountantä»¥ä¸Š |
| 4 | `/api/journals/{id}` | PUT | ä»•è¨³æ›´æ–°ï¼ˆæ˜ç´°åŒæ™‚æ›´æ–°ï¼‰ | accountantä»¥ä¸Š |
| 5 | `/api/journals/{id}` | DELETE | ä»•è¨³å‰Šé™¤ | admin |
| 6 | `/api/journals/validate` | POST | ä»•è¨³ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | accountantä»¥ä¸Š |

---

### 1ï¸âƒ£ ä»•è¨³ä¸€è¦§å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/journals`

**èª¬æ˜**: ä»•è¨³ãƒ˜ãƒƒãƒ€ãƒ¼ã®ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™ã€‚ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€ã‚½ãƒ¼ãƒˆã€ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾å¿œã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ | ä¾‹ |
|-----------|-----|------|------|-----|
| `page` | integer | No | ãƒšãƒ¼ã‚¸ç•ªå· | 1 |
| `limit` | integer | No | 1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•° | 20 |
| `sort` | string | No | ã‚½ãƒ¼ãƒˆå¯¾è±¡ã‚«ãƒ©ãƒ  | journalDate |
| `order` | string | No | ã‚½ãƒ¼ãƒˆé †ï¼ˆasc/descï¼‰ | desc |
| `fiscalPeriodId` | integer | No | ä¼šè¨ˆæœŸé–“IDã§ãƒ•ã‚£ãƒ«ã‚¿ | 1 |
| `startDate` | string | No | ä»•è¨³æ—¥ä»˜ã®é–‹å§‹æ—¥ | 2025-01-01 |
| `endDate` | string | No | ä»•è¨³æ—¥ä»˜ã®çµ‚äº†æ—¥ | 2025-12-31 |
| `search` | string | No | ä»•è¨³ç•ªå·ãƒ»æ‘˜è¦ã®éƒ¨åˆ†ä¸€è‡´æ¤œç´¢ | å£²ä¸Š |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": [
    {
      "id": 1,
      "companyId": 1,
      "fiscalPeriodId": 1,
      "journalDate": "2025-01-15",
      "journalNo": "J-20250115-001",
      "description": "å£²ä¸Šè¨ˆä¸Š",
      "totalDebitAmount": 110000.00,
      "totalCreditAmount": 110000.00,
      "createdBy": 1,
      "updatedBy": 1,
      "createdAt": "2025-01-15T10:00:00.000Z",
      "updatedAt": "2025-01-15T10:00:00.000Z"
    }
  ],
  "pagination": {
    "currentPage": 1,
    "totalPages": 10,
    "totalItems": 200,
    "itemsPerPage": 20
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `401 Unauthorized`: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹
- `403 Forbidden`: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

### 2ï¸âƒ£ ä»•è¨³è©³ç´°å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/journals/{id}`

**èª¬æ˜**: æŒ‡å®šIDã®ä»•è¨³ãƒ˜ãƒƒãƒ€ãƒ¼ã¨å…¨ã¦ã®æ˜ç´°ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `id` | integer | Yes | ä»•è¨³ID |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "companyId": 1,
    "fiscalPeriodId": 1,
    "journalDate": "2025-01-15",
    "journalNo": "J-20250115-001",
    "description": "å£²ä¸Šè¨ˆä¸Š",
    "createdBy": 1,
    "updatedBy": 1,
    "createdAt": "2025-01-15T10:00:00.000Z",
    "updatedAt": "2025-01-15T10:00:00.000Z",
    "details": [
      {
        "id": 1,
        "journalId": 1,
        "lineType": "debit",
        "accountId": 102,
        "accountCode": "102",
        "accountName": "æ™®é€šé é‡‘",
        "subAccountId": null,
        "subAccountCode": null,
        "subAccountName": null,
        "taxTypeId": null,
        "partnerId": 1,
        "partnerName": "æ ªå¼ä¼šç¤¾ABCå•†äº‹",
        "amount": 110000.00,
        "taxAmount": 10000.00,
        "description": "å£²æ›é‡‘å…¥é‡‘",
        "createdAt": "2025-01-15T10:00:00.000Z",
        "updatedAt": "2025-01-15T10:00:00.000Z"
      },
      {
        "id": 2,
        "journalId": 1,
        "lineType": "credit",
        "accountId": 401,
        "accountCode": "401",
        "accountName": "å£²ä¸Šé«˜",
        "subAccountId": null,
        "subAccountCode": null,
        "subAccountName": null,
        "taxTypeId": 1,
        "partnerId": 1,
        "partnerName": "æ ªå¼ä¼šç¤¾ABCå•†äº‹",
        "amount": 100000.00,
        "taxAmount": 0.00,
        "description": "å•†å“å£²ä¸Š",
        "createdAt": "2025-01-15T10:00:00.000Z",
        "updatedAt": "2025-01-15T10:00:00.000Z"
      },
      {
        "id": 3,
        "journalId": 1,
        "lineType": "credit",
        "accountId": 221,
        "accountCode": "221",
        "accountName": "ä»®å—æ¶ˆè²»ç¨",
        "subAccountId": null,
        "subAccountCode": null,
        "subAccountName": null,
        "taxTypeId": 1,
        "partnerId": null,
        "partnerName": null,
        "amount": 10000.00,
        "taxAmount": 0.00,
        "description": "æ¶ˆè²»ç¨ï¼ˆ10%ï¼‰",
        "createdAt": "2025-01-15T10:00:00.000Z",
        "updatedAt": "2025-01-15T10:00:00.000Z"
      }
    ],
    "fiscalPeriod": {
      "id": 1,
      "periodName": "2025å¹´åº¦",
      "startDate": "2025-01-01",
      "endDate": "2025-12-31",
      "isClosed": false
    }
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `401 Unauthorized`: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹
- `403 Forbidden`: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—
- `404 Not Found`: æŒ‡å®šIDã®ä»•è¨³ãŒå­˜åœ¨ã—ãªã„
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

### 3ï¸âƒ£ ä»•è¨³æ–°è¦ä½œæˆ

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/journals`

**èª¬æ˜**: æ–°ã—ã„ä»•è¨³ã‚’ä½œæˆã—ã¾ã™ã€‚ãƒ˜ãƒƒãƒ€ãƒ¼ã¨æ˜ç´°ã‚’åŒæ™‚ã«ç™»éŒ²ã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "fiscalPeriodId": 1,
  "journalDate": "2025-01-15",
  "description": "å£²ä¸Šè¨ˆä¸Š",
  "details": [
    {
      "lineType": "debit",
      "accountId": 102,
      "subAccountId": null,
      "taxTypeId": null,
      "partnerId": 1,
      "amount": 110000.00,
      "taxAmount": 10000.00,
      "description": "å£²æ›é‡‘å…¥é‡‘"
    },
    {
      "lineType": "credit",
      "accountId": 401,
      "subAccountId": null,
      "taxTypeId": 1,
      "partnerId": 1,
      "amount": 100000.00,
      "taxAmount": 0.00,
      "description": "å•†å“å£²ä¸Š"
    },
    {
      "lineType": "credit",
      "accountId": 221,
      "subAccountId": null,
      "taxTypeId": 1,
      "partnerId": null,
      "amount": 10000.00,
      "taxAmount": 0.00,
      "description": "æ¶ˆè²»ç¨ï¼ˆ10%ï¼‰"
    }
  ]
}
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£é …ç›®ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ï¼‰**:
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
|-----------|-----|------|------|---------------|
| `fiscalPeriodId` | integer | Yes | ä¼šè¨ˆæœŸé–“ID | å­˜åœ¨ãƒã‚§ãƒƒã‚¯ã€æœŸç· ã‚æ¸ˆã¿NG |
| `journalDate` | string | Yes | ä»•è¨³æ—¥ä»˜ | YYYY-MM-DDã€ä¼šè¨ˆæœŸé–“å†… |
| `description` | string | No | æ‘˜è¦ | æœ€å¤§500æ–‡å­— |
| `details` | array | Yes | ä»•è¨³æ˜ç´° | æœ€ä½2è¡Œã€å€Ÿæ–¹è²¸æ–¹ä¸€è‡´ |

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£é …ç›®ï¼ˆæ˜ç´°ï¼‰**:
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
|-----------|-----|------|------|---------------|
| `lineType` | string | Yes | è¡ŒåŒºåˆ† | debitï¼ˆå€Ÿæ–¹ï¼‰/ creditï¼ˆè²¸æ–¹ï¼‰ |
| `accountId` | integer | Yes | å‹˜å®šç§‘ç›®ID | å­˜åœ¨ãƒã‚§ãƒƒã‚¯ |
| `subAccountId` | integer | No | è£œåŠ©ç§‘ç›®ID | å­˜åœ¨ãƒã‚§ãƒƒã‚¯ |
| `taxTypeId` | integer | No | ç¨åŒºåˆ†ID | å­˜åœ¨ãƒã‚§ãƒƒã‚¯ |
| `partnerId` | integer | No | å–å¼•å…ˆID | å­˜åœ¨ãƒã‚§ãƒƒã‚¯ |
| `amount` | decimal | Yes | é‡‘é¡ | 0ã‚ˆã‚Šå¤§ãã„ |
| `taxAmount` | decimal | No | æ¶ˆè²»ç¨é¡ | 0ä»¥ä¸Š |
| `description` | string | No | æ‘˜è¦ | æœ€å¤§500æ–‡å­— |

**ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«**:
1. **å€Ÿæ–¹åˆè¨ˆ = è²¸æ–¹åˆè¨ˆ**ï¼ˆå¿…é ˆï¼‰
2. ä¼šè¨ˆæœŸé–“ãŒç· ã‚æ¸ˆã¿ã®å ´åˆã¯ç™»éŒ²ä¸å¯
3. ä»•è¨³æ—¥ä»˜ã¯ä¼šè¨ˆæœŸé–“ã®é–‹å§‹æ—¥ã€œçµ‚äº†æ—¥ã®ç¯„å›²å†…
4. ä»•è¨³ç•ªå·ï¼ˆjournalNoï¼‰ã¯è‡ªå‹•æ¡ç•ª

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ201 Createdï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "companyId": 1,
    "fiscalPeriodId": 1,
    "journalDate": "2025-01-15",
    "journalNo": "J-20250115-001",
    "description": "å£²ä¸Šè¨ˆä¸Š",
    "createdBy": 1,
    "updatedBy": 1,
    "createdAt": "2025-01-15T10:00:00.000Z",
    "updatedAt": "2025-01-15T10:00:00.000Z",
    "details": [
      {
        "id": 1,
        "lineType": "debit",
        "accountId": 102,
        "amount": 110000.00
      },
      {
        "id": 2,
        "lineType": "credit",
        "accountId": 401,
        "amount": 100000.00
      },
      {
        "id": 3,
        "lineType": "credit",
        "accountId": 221,
        "amount": 10000.00
      }
    ]
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `400 Bad Request`: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
  ```json
  {
    "status": "error",
    "error": {
      "code": "VALIDATION_ERROR",
      "message": "å…¥åŠ›å€¤ãŒä¸æ­£ã§ã™",
      "details": [
        {
          "field": "details",
          "message": "ä»•è¨³æ˜ç´°ã¯æœ€ä½2è¡Œå¿…è¦ã§ã™"
        }
      ]
    }
  }
  ```
- `422 Unprocessable Entity`: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼
  ```json
  {
    "status": "error",
    "error": {
      "code": "DEBIT_CREDIT_MISMATCH",
      "message": "å€Ÿæ–¹åˆè¨ˆã¨è²¸æ–¹åˆè¨ˆãŒä¸€è‡´ã—ã¾ã›ã‚“",
      "details": {
        "debitTotal": 110000.00,
        "creditTotal": 100000.00,
        "difference": 10000.00
      }
    }
  }
  ```
  ```json
  {
    "status": "error",
    "error": {
      "code": "FISCAL_PERIOD_CLOSED",
      "message": "ã“ã®ä¼šè¨ˆæœŸé–“ã¯æ—¢ã«ç· ã‚æ¸ˆã¿ã§ã™"
    }
  }
  ```
- `401 Unauthorized`: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹
- `403 Forbidden`: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

### 4ï¸âƒ£ ä»•è¨³æ›´æ–°

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `PUT /api/journals/{id}`

**èª¬æ˜**: æŒ‡å®šIDã®ä»•è¨³ã‚’æ›´æ–°ã—ã¾ã™ã€‚æ—¢å­˜ã®æ˜ç´°ã‚’å…¨ã¦å‰Šé™¤ã—ã€æ–°ã—ã„æ˜ç´°ã§ç½®ãæ›ãˆã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `id` | integer | Yes | ä»•è¨³ID |

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**: æ–°è¦ä½œæˆã¨åŒã˜

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**: æ–°è¦ä½œæˆã¨åŒã˜

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- æ–°è¦ä½œæˆã¨åŒã˜
- `404 Not Found`: æŒ‡å®šIDã®ä»•è¨³ãŒå­˜åœ¨ã—ãªã„
- `422 Unprocessable Entity`: æœŸç· ã‚å¾Œã®ä»•è¨³ã¯æ›´æ–°ä¸å¯
  ```json
  {
    "status": "error",
    "error": {
      "code": "FISCAL_PERIOD_CLOSED",
      "message": "ç· ã‚æ¸ˆã¿ä¼šè¨ˆæœŸé–“ã®ä»•è¨³ã¯æ›´æ–°ã§ãã¾ã›ã‚“"
    }
  }
  ```

---

### 5ï¸âƒ£ ä»•è¨³å‰Šé™¤

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `DELETE /api/journals/{id}`

**èª¬æ˜**: æŒ‡å®šIDã®ä»•è¨³ã‚’å‰Šé™¤ã—ã¾ã™ï¼ˆè«–ç†å‰Šé™¤æ¨å¥¨ï¼‰ã€‚æ˜ç´°ã‚‚åŒæ™‚ã«å‰Šé™¤ã•ã‚Œã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `id` | integer | Yes | ä»•è¨³ID |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "message": "ä»•è¨³ã‚’å‰Šé™¤ã—ã¾ã—ãŸ"
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `401 Unauthorized`: èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹
- `403 Forbidden`: ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ãªã—ï¼ˆadminä»¥å¤–ï¼‰
- `404 Not Found`: æŒ‡å®šIDã®ä»•è¨³ãŒå­˜åœ¨ã—ãªã„
- `422 Unprocessable Entity`: æœŸç· ã‚å¾Œã®ä»•è¨³ã¯å‰Šé™¤ä¸å¯
  ```json
  {
    "status": "error",
    "error": {
      "code": "FISCAL_PERIOD_CLOSED",
      "message": "ç· ã‚æ¸ˆã¿ä¼šè¨ˆæœŸé–“ã®ä»•è¨³ã¯å‰Šé™¤ã§ãã¾ã›ã‚“"
    }
  }
  ```
- `500 Internal Server Error`: ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼

---

### 6ï¸âƒ£ ä»•è¨³ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/journals/validate`

**èª¬æ˜**: ä»•è¨³ãƒ‡ãƒ¼ã‚¿ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã¿ã‚’å®Ÿè¡Œã—ã¾ã™ï¼ˆä¿å­˜ã¯ã—ã¾ã›ã‚“ï¼‰ã€‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ä½¿ç”¨ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**: æ–°è¦ä½œæˆã¨åŒã˜

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "valid": true,
  "summary": {
    "debitTotal": 110000.00,
    "creditTotal": 110000.00,
    "isBalanced": true
  }
}
```

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼æ™‚ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "valid": false,
  "errors": [
    {
      "code": "DEBIT_CREDIT_MISMATCH",
      "message": "å€Ÿæ–¹åˆè¨ˆã¨è²¸æ–¹åˆè¨ˆãŒä¸€è‡´ã—ã¾ã›ã‚“"
    }
  ],
  "summary": {
    "debitTotal": 110000.00,
    "creditTotal": 100000.00,
    "isBalanced": false,
    "difference": 10000.00
  }
}
```

---

## 3-2. è«‹æ±‚æ›¸APIï¼ˆInvoices & Invoice Detailsï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/invoices` | GET | è«‹æ±‚æ›¸ä¸€è¦§å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/invoices/{id}` | GET | è«‹æ±‚æ›¸è©³ç´°å–å¾—ï¼ˆæ˜ç´°å«ã‚€ï¼‰ | viewerä»¥ä¸Š |
| 3 | `/api/invoices` | POST | è«‹æ±‚æ›¸æ–°è¦ä½œæˆï¼ˆæ˜ç´°åŒæ™‚ç™»éŒ²ï¼‰ | accountantä»¥ä¸Š |
| 4 | `/api/invoices/{id}` | PUT | è«‹æ±‚æ›¸æ›´æ–°ï¼ˆæ˜ç´°åŒæ™‚æ›´æ–°ï¼‰ | accountantä»¥ä¸Š |
| 5 | `/api/invoices/{id}` | DELETE | è«‹æ±‚æ›¸å‰Šé™¤ | admin |
| 6 | `/api/invoices/{id}/pdf` | GET | è«‹æ±‚æ›¸PDFç”Ÿæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | accountantä»¥ä¸Š |
| 7 | `/api/invoices/{id}/status` | PATCH | è«‹æ±‚æ›¸ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´ | accountantä»¥ä¸Š |

---

### è«‹æ±‚æ›¸æ–°è¦ä½œæˆã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ä¾‹

```json
{
  "partnerId": 1,
  "invoiceDate": "2025-01-15",
  "paymentDueDate": "2025-02-15",
  "notes": "ãŠæ”¯æ‰•ã„ã¯éŠ€è¡ŒæŒ¯è¾¼ã§ãŠé¡˜ã„ã—ã¾ã™",
  "details": [
    {
      "lineNo": 1,
      "itemId": 1,
      "description": "Webã‚µã‚¤ãƒˆåˆ¶ä½œ",
      "quantity": 1,
      "unitPrice": 500000.00,
      "amount": 500000.00,
      "taxTypeId": 1,
      "taxAmount": 50000.00
    },
    {
      "lineNo": 2,
      "itemId": 2,
      "description": "ä¿å®ˆã‚µãƒãƒ¼ãƒˆï¼ˆ1å¹´é–“ï¼‰",
      "quantity": 12,
      "unitPrice": 10000.00,
      "amount": 120000.00,
      "taxTypeId": 1,
      "taxAmount": 12000.00
    }
  ]
}
```

**è‡ªå‹•è¨ˆç®—ã•ã‚Œã‚‹é …ç›®**:
- `invoiceNo`: è«‹æ±‚æ›¸ç•ªå·ï¼ˆè‡ªå‹•æ¡ç•ªï¼‰
- `subtotal`: å°è¨ˆï¼ˆæ˜ç´°ã®é‡‘é¡åˆè¨ˆï¼‰
- `taxAmount`: æ¶ˆè²»ç¨é¡åˆè¨ˆ
- `totalAmount`: åˆè¨ˆé‡‘é¡ï¼ˆå°è¨ˆ + æ¶ˆè²»ç¨é¡ï¼‰

**è«‹æ±‚æ›¸ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**:
- `draft`: ä¸‹æ›¸ã
- `issued`: ç™ºè¡Œæ¸ˆã¿
- `paid`: å…¥é‡‘æ¸ˆã¿
- `canceled`: ã‚­ãƒ£ãƒ³ã‚»ãƒ«

---

### è«‹æ±‚æ›¸PDFç”Ÿæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/invoices/{id}/pdf`

**èª¬æ˜**: æŒ‡å®šIDã®è«‹æ±‚æ›¸ã‚’PDFå½¢å¼ã§ç”Ÿæˆã—ã€ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã™ã€‚

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹**: PDF ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆContent-Type: application/pdfï¼‰

**ãƒ˜ãƒƒãƒ€ãƒ¼**:
```
Content-Type: application/pdf
Content-Disposition: attachment; filename="invoice-INV-20250115-001.pdf"
```

---

### è«‹æ±‚æ›¸ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å¤‰æ›´

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `PATCH /api/invoices/{id}/status`

**èª¬æ˜**: è«‹æ±‚æ›¸ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å¤‰æ›´ã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "status": "issued"
}
```

**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é·ç§»ãƒ«ãƒ¼ãƒ«**:
- draft â†’ issuedï¼ˆç™ºè¡Œï¼‰
- issued â†’ paidï¼ˆå…¥é‡‘å‡¦ç†æ™‚ï¼‰
- issued â†’ canceledï¼ˆã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰
- draft â†’ canceledï¼ˆã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `422 Unprocessable Entity`: ä¸æ­£ãªã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é·ç§»
  ```json
  {
    "status": "error",
    "error": {
      "code": "INVALID_STATUS_TRANSITION",
      "message": "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’ 'paid' ã‹ã‚‰ 'draft' ã«å¤‰æ›´ã§ãã¾ã›ã‚“"
    }
  }
  ```

---

## 3-3. å…¥é‡‘APIï¼ˆPaymentsï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/payments` | GET | å…¥é‡‘ä¸€è¦§å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/payments/{id}` | GET | å…¥é‡‘è©³ç´°å–å¾— | viewerä»¥ä¸Š |
| 3 | `/api/payments` | POST | å…¥é‡‘æ–°è¦ç™»éŒ² | accountantä»¥ä¸Š |
| 4 | `/api/payments/{id}` | PUT | å…¥é‡‘æ›´æ–° | accountantä»¥ä¸Š |
| 5 | `/api/payments/{id}` | DELETE | å…¥é‡‘å‰Šé™¤ | admin |

---

### å…¥é‡‘æ–°è¦ç™»éŒ²ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ä¾‹

```json
{
  "invoiceId": 1,
  "paymentDate": "2025-02-10",
  "paymentAmount": 620000.00,
  "paymentMethod": "bank_transfer",
  "notes": "ã¿ãšã»éŠ€è¡ŒçµŒç”±ã§å…¥é‡‘ç¢ºèª"
}
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£é …ç›®**:
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
|-----------|-----|------|------|---------------|
| `invoiceId` | integer | Yes | è«‹æ±‚æ›¸ID | å­˜åœ¨ãƒã‚§ãƒƒã‚¯ |
| `paymentDate` | string | Yes | å…¥é‡‘æ—¥ | YYYY-MM-DD |
| `paymentAmount` | decimal | Yes | å…¥é‡‘é¡ | 0ã‚ˆã‚Šå¤§ãã„ |
| `paymentMethod` | string | Yes | å…¥é‡‘æ–¹æ³• | bank_transfer/cash/credit_card/other |
| `notes` | string | No | å‚™è€ƒ | æœ€å¤§500æ–‡å­— |

**å…¥é‡‘æ–¹æ³•ï¼ˆpaymentMethodï¼‰**:
- `bank_transfer`: éŠ€è¡ŒæŒ¯è¾¼
- `cash`: ç¾é‡‘
- `credit_card`: ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰
- `other`: ãã®ä»–

**ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«**:
1. å…¥é‡‘ç™»éŒ²æ™‚ã€å¯¾è±¡ã®è«‹æ±‚æ›¸ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’è‡ªå‹•çš„ã«`paid`ã«å¤‰æ›´
2. å…¥é‡‘é¡ãŒè«‹æ±‚æ›¸ã®åˆè¨ˆé‡‘é¡ã¨ç•°ãªã‚‹å ´åˆã¯è­¦å‘Šï¼ˆéä¸è¶³ãŒã‚ã‚‹å ´åˆï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ201 Createdï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "companyId": 1,
    "invoiceId": 1,
    "paymentDate": "2025-02-10",
    "paymentAmount": 620000.00,
    "paymentMethod": "bank_transfer",
    "notes": "ã¿ãšã»éŠ€è¡ŒçµŒç”±ã§å…¥é‡‘ç¢ºèª",
    "createdBy": 1,
    "createdAt": "2025-02-10T15:00:00.000Z",
    "updatedAt": "2025-02-10T15:00:00.000Z",
    "invoice": {
      "id": 1,
      "invoiceNo": "INV-20250115-001",
      "totalAmount": 620000.00,
      "status": "paid"
    }
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `400 Bad Request`: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
- `422 Unprocessable Entity`: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼
  ```json
  {
    "status": "error",
    "error": {
      "code": "INVOICE_ALREADY_PAID",
      "message": "ã“ã®è«‹æ±‚æ›¸ã¯æ—¢ã«å…¥é‡‘æ¸ˆã¿ã§ã™"
    }
  }
  ```

---

## 4. ãƒ¬ãƒãƒ¼ãƒˆç³»API

ãƒ¬ãƒãƒ¼ãƒˆç³»APIã¯ã€ä¼šè¨ˆãƒ‡ãƒ¼ã‚¿ã‚’é›†è¨ˆãƒ»åˆ†æã—ã€å„ç¨®å¸³ç¥¨ã‚’ç”Ÿæˆã—ã¾ã™ã€‚å…¨ã¦å‚ç…§ç³»ã®APIã§ã€ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°ã¯è¡Œã„ã¾ã›ã‚“ã€‚

---

## 4-1. ç·å‹˜å®šå…ƒå¸³APIï¼ˆGeneral Ledgerï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/reports/general-ledger` | GET | ç·å‹˜å®šå…ƒå¸³ãƒ‡ãƒ¼ã‚¿å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/reports/general-ledger/pdf` | GET | ç·å‹˜å®šå…ƒå¸³PDFç”Ÿæˆ | viewerä»¥ä¸Š |
| 3 | `/api/reports/general-ledger/excel` | GET | ç·å‹˜å®šå…ƒå¸³Excelç”Ÿæˆ | viewerä»¥ä¸Š |

---

### ç·å‹˜å®šå…ƒå¸³ãƒ‡ãƒ¼ã‚¿å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/reports/general-ledger`

**èª¬æ˜**: æŒ‡å®šã—ãŸå‹˜å®šç§‘ç›®ãƒ»æœŸé–“ã®ç·å‹˜å®šå…ƒå¸³ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ | ä¾‹ |
|-----------|-----|------|------|-----|
| `fiscalPeriodId` | integer | Yes | ä¼šè¨ˆæœŸé–“ID | 1 |
| `accountId` | integer | Yes | å‹˜å®šç§‘ç›®ID | 102 |
| `subAccountId` | integer | No | è£œåŠ©ç§‘ç›®ID | 1 |
| `startDate` | string | No | é–‹å§‹æ—¥ | 2025-01-01 |
| `endDate` | string | No | çµ‚äº†æ—¥ | 2025-12-31 |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "account": {
      "id": 102,
      "accountCode": "102",
      "accountName": "æ™®é€šé é‡‘",
      "accountType": "asset"
    },
    "fiscalPeriod": {
      "id": 1,
      "periodName": "2025å¹´åº¦",
      "startDate": "2025-01-01",
      "endDate": "2025-12-31"
    },
    "openingBalance": 1000000.00,
    "transactions": [
      {
        "journalDate": "2025-01-15",
        "journalNo": "J-20250115-001",
        "description": "å£²æ›é‡‘å…¥é‡‘",
        "debitAmount": 110000.00,
        "creditAmount": 0.00,
        "balance": 1110000.00,
        "partnerId": 1,
        "partnerName": "æ ªå¼ä¼šç¤¾ABCå•†äº‹"
      },
      {
        "journalDate": "2025-01-20",
        "journalNo": "J-20250120-002",
        "description": "äº‹å‹™ç”¨å“è³¼å…¥",
        "debitAmount": 0.00,
        "creditAmount": 5000.00,
        "balance": 1105000.00,
        "partnerId": 2,
        "partnerName": "ã‚ªãƒ•ã‚£ã‚¹ç”¨å“åº—"
      }
    ],
    "closingBalance": 1105000.00,
    "totalDebit": 110000.00,
    "totalCredit": 5000.00
  }
}
```

---

## 4-2. è©¦ç®—è¡¨APIï¼ˆTrial Balanceï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/reports/trial-balance` | GET | è©¦ç®—è¡¨ãƒ‡ãƒ¼ã‚¿å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/reports/trial-balance/pdf` | GET | è©¦ç®—è¡¨PDFç”Ÿæˆ | viewerä»¥ä¸Š |
| 3 | `/api/reports/trial-balance/excel` | GET | è©¦ç®—è¡¨Excelç”Ÿæˆ | viewerä»¥ä¸Š |

---

### è©¦ç®—è¡¨ãƒ‡ãƒ¼ã‚¿å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/reports/trial-balance`

**èª¬æ˜**: æŒ‡å®šã—ãŸä¼šè¨ˆæœŸé–“ã®è©¦ç®—è¡¨ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ | ä¾‹ |
|-----------|-----|------|------|-----|
| `fiscalPeriodId` | integer | Yes | ä¼šè¨ˆæœŸé–“ID | 1 |
| `asOfDate` | string | No | åŸºæº–æ—¥ | 2025-06-30 |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "fiscalPeriod": {
      "id": 1,
      "periodName": "2025å¹´åº¦",
      "startDate": "2025-01-01",
      "endDate": "2025-12-31"
    },
    "asOfDate": "2025-06-30",
    "accounts": [
      {
        "accountCode": "101",
        "accountName": "ç¾é‡‘",
        "accountType": "asset",
        "debitBalance": 500000.00,
        "creditBalance": 0.00,
        "netBalance": 500000.00
      },
      {
        "accountCode": "102",
        "accountName": "æ™®é€šé é‡‘",
        "accountType": "asset",
        "debitBalance": 1105000.00,
        "creditBalance": 0.00,
        "netBalance": 1105000.00
      },
      {
        "accountCode": "201",
        "accountName": "è²·æ›é‡‘",
        "accountType": "liability",
        "debitBalance": 0.00,
        "creditBalance": 300000.00,
        "netBalance": -300000.00
      },
      {
        "accountCode": "401",
        "accountName": "å£²ä¸Šé«˜",
        "accountType": "revenue",
        "debitBalance": 0.00,
        "creditBalance": 2000000.00,
        "netBalance": -2000000.00
      }
    ],
    "summary": {
      "totalDebit": 5000000.00,
      "totalCredit": 5000000.00,
      "isBalanced": true
    }
  }
}
```

---

## 4-3. æç›Šè¨ˆç®—æ›¸APIï¼ˆProfit & Loss Statementï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/reports/profit-loss` | GET | æç›Šè¨ˆç®—æ›¸ãƒ‡ãƒ¼ã‚¿å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/reports/profit-loss/pdf` | GET | æç›Šè¨ˆç®—æ›¸PDFç”Ÿæˆ | viewerä»¥ä¸Š |
| 3 | `/api/reports/profit-loss/excel` | GET | æç›Šè¨ˆç®—æ›¸Excelç”Ÿæˆ | viewerä»¥ä¸Š |

---

### æç›Šè¨ˆç®—æ›¸ãƒ‡ãƒ¼ã‚¿å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/reports/profit-loss`

**èª¬æ˜**: æŒ‡å®šã—ãŸä¼šè¨ˆæœŸé–“ã®æç›Šè¨ˆç®—æ›¸ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ | ä¾‹ |
|-----------|-----|------|------|-----|
| `fiscalPeriodId` | integer | Yes | ä¼šè¨ˆæœŸé–“ID | 1 |
| `startDate` | string | No | é–‹å§‹æ—¥ | 2025-01-01 |
| `endDate` | string | No | çµ‚äº†æ—¥ | 2025-12-31 |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "fiscalPeriod": {
      "id": 1,
      "periodName": "2025å¹´åº¦",
      "startDate": "2025-01-01",
      "endDate": "2025-12-31"
    },
    "period": {
      "startDate": "2025-01-01",
      "endDate": "2025-12-31"
    },
    "revenue": {
      "items": [
        {
          "accountCode": "401",
          "accountName": "å£²ä¸Šé«˜",
          "amount": 10000000.00
        }
      ],
      "total": 10000000.00
    },
    "costOfSales": {
      "items": [
        {
          "accountCode": "501",
          "accountName": "å£²ä¸ŠåŸä¾¡",
          "amount": 6000000.00
        }
      ],
      "total": 6000000.00
    },
    "grossProfit": 4000000.00,
    "operatingExpenses": {
      "items": [
        {
          "accountCode": "601",
          "accountName": "çµ¦æ–™æ‰‹å½“",
          "amount": 2000000.00
        },
        {
          "accountCode": "602",
          "accountName": "åœ°ä»£å®¶è³ƒ",
          "amount": 500000.00
        }
      ],
      "total": 2500000.00
    },
    "operatingIncome": 1500000.00,
    "nonOperatingIncome": {
      "items": [
        {
          "accountCode": "701",
          "accountName": "å—å–åˆ©æ¯",
          "amount": 10000.00
        }
      ],
      "total": 10000.00
    },
    "nonOperatingExpenses": {
      "items": [
        {
          "accountCode": "801",
          "accountName": "æ”¯æ‰•åˆ©æ¯",
          "amount": 5000.00
        }
      ],
      "total": 5000.00
    },
    "ordinaryIncome": 1505000.00,
    "netIncome": 1505000.00
  }
}
```

---

## 4-4. è²¸å€Ÿå¯¾ç…§è¡¨APIï¼ˆBalance Sheetï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/reports/balance-sheet` | GET | è²¸å€Ÿå¯¾ç…§è¡¨ãƒ‡ãƒ¼ã‚¿å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/reports/balance-sheet/pdf` | GET | è²¸å€Ÿå¯¾ç…§è¡¨PDFç”Ÿæˆ | viewerä»¥ä¸Š |
| 3 | `/api/reports/balance-sheet/excel` | GET | è²¸å€Ÿå¯¾ç…§è¡¨Excelç”Ÿæˆ | viewerä»¥ä¸Š |

---

### è²¸å€Ÿå¯¾ç…§è¡¨ãƒ‡ãƒ¼ã‚¿å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/reports/balance-sheet`

**èª¬æ˜**: æŒ‡å®šã—ãŸä¼šè¨ˆæœŸé–“ã®è²¸å€Ÿå¯¾ç…§è¡¨ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ | ä¾‹ |
|-----------|-----|------|------|-----|
| `fiscalPeriodId` | integer | Yes | ä¼šè¨ˆæœŸé–“ID | 1 |
| `asOfDate` | string | No | åŸºæº–æ—¥ | 2025-12-31 |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "fiscalPeriod": {
      "id": 1,
      "periodName": "2025å¹´åº¦",
      "startDate": "2025-01-01",
      "endDate": "2025-12-31"
    },
    "asOfDate": "2025-12-31",
    "assets": {
      "currentAssets": {
        "items": [
          {
            "accountCode": "101",
            "accountName": "ç¾é‡‘",
            "amount": 500000.00
          },
          {
            "accountCode": "102",
            "accountName": "æ™®é€šé é‡‘",
            "amount": 2000000.00
          },
          {
            "accountCode": "103",
            "accountName": "å£²æ›é‡‘",
            "amount": 1500000.00
          }
        ],
        "total": 4000000.00
      },
      "fixedAssets": {
        "items": [
          {
            "accountCode": "151",
            "accountName": "å»ºç‰©",
            "amount": 5000000.00
          },
          {
            "accountCode": "152",
            "accountName": "å‚™å“",
            "amount": 1000000.00
          }
        ],
        "total": 6000000.00
      },
      "total": 10000000.00
    },
    "liabilities": {
      "currentLiabilities": {
        "items": [
          {
            "accountCode": "201",
            "accountName": "è²·æ›é‡‘",
            "amount": 800000.00
          },
          {
            "accountCode": "202",
            "accountName": "æœªæ‰•é‡‘",
            "amount": 200000.00
          }
        ],
        "total": 1000000.00
      },
      "longTermLiabilities": {
        "items": [
          {
            "accountCode": "251",
            "accountName": "é•·æœŸå€Ÿå…¥é‡‘",
            "amount": 3000000.00
          }
        ],
        "total": 3000000.00
      },
      "total": 4000000.00
    },
    "equity": {
      "items": [
        {
          "accountCode": "301",
          "accountName": "è³‡æœ¬é‡‘",
          "amount": 5000000.00
        },
        {
          "accountCode": "302",
          "accountName": "åˆ©ç›Šå‰°ä½™é‡‘",
          "amount": 1000000.00
        }
      ],
      "total": 6000000.00
    },
    "totalLiabilitiesAndEquity": 10000000.00,
    "isBalanced": true
  }
}
```

---

## 5. ä¼šè¨ˆæœŸé–“ç®¡ç†API

ä¼šè¨ˆæœŸé–“ã®ä½œæˆãƒ»ç®¡ç†ã¨ã€æœŸç· ã‚å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚

---

## 5-1. ä¼šè¨ˆæœŸé–“APIï¼ˆFiscal Periodsï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/fiscal-periods` | GET | ä¼šè¨ˆæœŸé–“ä¸€è¦§å–å¾— | viewerä»¥ä¸Š |
| 2 | `/api/fiscal-periods/{id}` | GET | ä¼šè¨ˆæœŸé–“è©³ç´°å–å¾— | viewerä»¥ä¸Š |
| 3 | `/api/fiscal-periods` | POST | ä¼šè¨ˆæœŸé–“æ–°è¦ä½œæˆ | admin |
| 4 | `/api/fiscal-periods/{id}` | PUT | ä¼šè¨ˆæœŸé–“æ›´æ–° | admin |
| 5 | `/api/fiscal-periods/{id}` | DELETE | ä¼šè¨ˆæœŸé–“å‰Šé™¤ | admin |
| 6 | `/api/fiscal-periods/{id}/close` | POST | æœŸç· ã‚å‡¦ç† | admin |
| 7 | `/api/fiscal-periods/{id}/reopen` | POST | æœŸç· ã‚è§£é™¤ | admin |

---

### ä¼šè¨ˆæœŸé–“æ–°è¦ä½œæˆã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ä¾‹

```json
{
  "periodName": "2025å¹´åº¦",
  "startDate": "2025-01-01",
  "endDate": "2025-12-31"
}
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£é …ç›®**:
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
|-----------|-----|------|------|---------------|
| `periodName` | string | Yes | æœŸå | æœ€å¤§100æ–‡å­— |
| `startDate` | string | Yes | é–‹å§‹æ—¥ | YYYY-MM-DD |
| `endDate` | string | Yes | çµ‚äº†æ—¥ | YYYY-MM-DDã€é–‹å§‹æ—¥ã‚ˆã‚Šå¾Œ |

**ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«**:
1. ä¼šè¨ˆæœŸé–“ã¯é‡è¤‡ä¸å¯ï¼ˆæ—¢å­˜æœŸé–“ã¨æ—¥ä»˜ãŒé‡ãªã‚‰ãªã„ã“ã¨ï¼‰
2. é–‹å§‹æ—¥ < çµ‚äº†æ—¥
3. é€šå¸¸ã¯1å¹´é–“ï¼ˆ12ãƒ¶æœˆï¼‰ã§è¨­å®š

---

### æœŸç· ã‚å‡¦ç†

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/fiscal-periods/{id}/close`

**èª¬æ˜**: æŒ‡å®šã—ãŸä¼šè¨ˆæœŸé–“ã‚’ç· ã‚ã¾ã™ã€‚ç· ã‚å‡¦ç†å¾Œã¯ã€ãã®æœŸé–“ã®ä»•è¨³ã®è¿½åŠ ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ãŒã§ããªããªã‚Šã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `id` | integer | Yes | ä¼šè¨ˆæœŸé–“ID |

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "closingDate": "2026-01-31"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "companyId": 1,
    "periodName": "2025å¹´åº¦",
    "startDate": "2025-01-01",
    "endDate": "2025-12-31",
    "isClosed": true,
    "closedAt": "2026-01-31T10:00:00.000Z",
    "closedBy": 1,
    "createdAt": "2025-01-01T00:00:00.000Z",
    "updatedAt": "2026-01-31T10:00:00.000Z"
  },
  "message": "ä¼šè¨ˆæœŸé–“ã‚’ç· ã‚ã¾ã—ãŸ"
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `422 Unprocessable Entity`: æ—¢ã«ç· ã‚æ¸ˆã¿
  ```json
  {
    "status": "error",
    "error": {
      "code": "ALREADY_CLOSED",
      "message": "ã“ã®ä¼šè¨ˆæœŸé–“ã¯æ—¢ã«ç· ã‚æ¸ˆã¿ã§ã™"
    }
  }
  ```
- `422 Unprocessable Entity`: ä»•è¨³ã®è²¸å€Ÿä¸ä¸€è‡´ãŒã‚ã‚‹
  ```json
  {
    "status": "error",
    "error": {
      "code": "UNBALANCED_JOURNALS",
      "message": "è²¸å€Ÿä¸ä¸€è‡´ã®ä»•è¨³ãŒå­˜åœ¨ã—ã¾ã™",
      "details": {
        "journalIds": [5, 12, 23]
      }
    }
  }
  ```

---

### æœŸç· ã‚è§£é™¤

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/fiscal-periods/{id}/reopen`

**èª¬æ˜**: ç· ã‚ãŸä¼šè¨ˆæœŸé–“ã‚’å†åº¦é–‹ãã¾ã™ã€‚ç·Šæ€¥ã®ä¿®æ­£ãŒå¿…è¦ãªå ´åˆã®ã¿ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `id` | integer | Yes | ä¼šè¨ˆæœŸé–“ID |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "companyId": 1,
    "periodName": "2025å¹´åº¦",
    "startDate": "2025-01-01",
    "endDate": "2025-12-31",
    "isClosed": false,
    "closedAt": null,
    "closedBy": null,
    "createdAt": "2025-01-01T00:00:00.000Z",
    "updatedAt": "2026-02-01T14:00:00.000Z"
  },
  "message": "ä¼šè¨ˆæœŸé–“ã®ç· ã‚ã‚’è§£é™¤ã—ã¾ã—ãŸ"
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `422 Unprocessable Entity`: æ—¢ã«é–‹ã„ã¦ã„ã‚‹
  ```json
  {
    "status": "error",
    "error": {
      "code": "ALREADY_OPEN",
      "message": "ã“ã®ä¼šè¨ˆæœŸé–“ã¯æ—¢ã«é–‹ã„ã¦ã„ã¾ã™"
    }
  }
  ```

---

## 6. èªè¨¼ãƒ»èªå¯API

ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã€ä¼šç¤¾ç®¡ç†ã€æ¨©é™ç®¡ç†ã‚’è¡Œã„ã¾ã™ã€‚

---

## 6-1. èªè¨¼APIï¼ˆAuthenticationï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/auth/register` | POST | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ² | å…¬é–‹ |
| 2 | `/api/auth/login` | POST | ãƒ­ã‚°ã‚¤ãƒ³ | å…¬é–‹ |
| 3 | `/api/auth/logout` | POST | ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ | èªè¨¼æ¸ˆã¿ |
| 4 | `/api/auth/refresh` | POST | ãƒˆãƒ¼ã‚¯ãƒ³æ›´æ–° | èªè¨¼æ¸ˆã¿ |
| 5 | `/api/auth/me` | GET | ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾— | èªè¨¼æ¸ˆã¿ |

---

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/auth/register`

**èª¬æ˜**: æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç™»éŒ²ã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "email": "user@example.com",
  "username": "å±±ç”°å¤ªéƒ",
  "password": "SecureP@ssw0rd",
  "passwordConfirm": "SecureP@ssw0rd"
}
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£é …ç›®**:
| ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | å‹ | å¿…é ˆ | èª¬æ˜ | ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ |
|-----------|-----|------|------|---------------|
| `email` | string | Yes | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | ãƒ¡ãƒ¼ãƒ«å½¢å¼ã€ä¸€æ„ |
| `username` | string | Yes | ãƒ¦ãƒ¼ã‚¶ãƒ¼å | æœ€å¤§100æ–‡å­— |
| `password` | string | Yes | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ | æœ€ä½8æ–‡å­—ã€è‹±æ•°å­—è¨˜å·å«ã‚€ |
| `passwordConfirm` | string | Yes | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª | passwordã¨ä¸€è‡´ |

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ201 Createdï¼‰**:
```json
{
  "status": "success",
  "data": {
    "user": {
      "id": 1,
      "email": "user@example.com",
      "username": "å±±ç”°å¤ªéƒ",
      "isActive": true,
      "createdAt": "2025-01-15T10:00:00.000Z"
    },
    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "expiresIn": 3600
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `409 Conflict`: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹é‡è¤‡
  ```json
  {
    "status": "error",
    "error": {
      "code": "EMAIL_ALREADY_EXISTS",
      "message": "ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯æ—¢ã«ç™»éŒ²ã•ã‚Œã¦ã„ã¾ã™"
    }
  }
  ```

---

### ãƒ­ã‚°ã‚¤ãƒ³

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/auth/login`

**èª¬æ˜**: ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "email": "user@example.com",
  "password": "SecureP@ssw0rd"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "user": {
      "id": 1,
      "email": "user@example.com",
      "username": "å±±ç”°å¤ªéƒ",
      "isActive": true,
      "companies": [
        {
          "companyId": 1,
          "companyName": "æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«",
          "role": "admin"
        }
      ]
    },
    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "expiresIn": 3600
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `401 Unauthorized`: ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—
  ```json
  {
    "status": "error",
    "error": {
      "code": "INVALID_CREDENTIALS",
      "message": "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“"
    }
  }
  ```

---

### ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `GET /api/auth/me`

**èª¬æ˜**: ç¾åœ¨ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æƒ…å ±ã‚’å–å¾—ã—ã¾ã™ã€‚

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "email": "user@example.com",
    "username": "å±±ç”°å¤ªéƒ",
    "isActive": true,
    "companies": [
      {
        "companyId": 1,
        "companyCode": "COMP001",
        "companyName": "æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«",
        "role": "admin",
        "isActive": true
      }
    ],
    "lastLoginAt": "2025-01-15T09:00:00.000Z",
    "createdAt": "2025-01-01T00:00:00.000Z"
  }
}
```

---

## 6-2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†APIï¼ˆUsersï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/users` | GET | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾— | admin |
| 2 | `/api/users/{id}` | GET | ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°å–å¾— | admin |
| 3 | `/api/users/{id}` | PUT | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ›´æ–° | admin |
| 4 | `/api/users/{id}` | DELETE | ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤ | admin |
| 5 | `/api/users/{id}/activate` | PATCH | ãƒ¦ãƒ¼ã‚¶ãƒ¼æœ‰åŠ¹åŒ– | admin |
| 6 | `/api/users/{id}/deactivate` | PATCH | ãƒ¦ãƒ¼ã‚¶ãƒ¼ç„¡åŠ¹åŒ– | admin |

---

## 6-3. ä¼šç¤¾ç®¡ç†APIï¼ˆCompaniesï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/companies` | GET | ä¼šç¤¾ä¸€è¦§å–å¾— | èªè¨¼æ¸ˆã¿ |
| 2 | `/api/companies/{id}` | GET | ä¼šç¤¾è©³ç´°å–å¾— | èªè¨¼æ¸ˆã¿ |
| 3 | `/api/companies` | POST | ä¼šç¤¾æ–°è¦ä½œæˆ | èªè¨¼æ¸ˆã¿ |
| 4 | `/api/companies/{id}` | PUT | ä¼šç¤¾æ›´æ–° | admin |
| 5 | `/api/companies/{id}` | DELETE | ä¼šç¤¾å‰Šé™¤ | admin |

---

### ä¼šç¤¾æ–°è¦ä½œæˆ

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/companies`

**èª¬æ˜**: æ–°ã—ã„ä¼šç¤¾ã‚’ä½œæˆã—ã¾ã™ã€‚ä½œæˆè€…ã¯è‡ªå‹•çš„ã«adminæ¨©é™ãŒä»˜ä¸ã•ã‚Œã¾ã™ã€‚

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "companyCode": "COMP001",
  "companyName": "æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«",
  "representative": "å±±ç”°å¤ªéƒ",
  "postalCode": "100-0001",
  "address": "æ±äº¬éƒ½åƒä»£ç”°åŒºåƒä»£ç”°1-1-1",
  "phone": "03-1234-5678",
  "establishmentDate": "2020-01-01"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ201 Createdï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 1,
    "companyCode": "COMP001",
    "companyName": "æ ªå¼ä¼šç¤¾ã‚µãƒ³ãƒ—ãƒ«",
    "representative": "å±±ç”°å¤ªéƒ",
    "postalCode": "100-0001",
    "address": "æ±äº¬éƒ½åƒä»£ç”°åŒºåƒä»£ç”°1-1-1",
    "phone": "03-1234-5678",
    "establishmentDate": "2020-01-01",
    "createdAt": "2025-01-15T10:00:00.000Z",
    "updatedAt": "2025-01-15T10:00:00.000Z",
    "userRole": "admin"
  }
}
```

---

## 6-4. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ»ä¼šç¤¾ãƒ»å½¹å‰²ç®¡ç†APIï¼ˆUser Company Rolesï¼‰

### ğŸ“‹ ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä¸€è¦§

| No | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | HTTPãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ | æ¨©é™ |
|----|--------------|-------------|------|------|
| 1 | `/api/companies/{companyId}/users` | GET | ä¼šç¤¾ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾— | admin |
| 2 | `/api/companies/{companyId}/users` | POST | ä¼šç¤¾ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ‹›å¾… | admin |
| 3 | `/api/companies/{companyId}/users/{userId}` | PUT | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å½¹å‰²ã‚’å¤‰æ›´ | admin |
| 4 | `/api/companies/{companyId}/users/{userId}` | DELETE | ä¼šç¤¾ã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å‰Šé™¤ | admin |

---

### ä¼šç¤¾ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ‹›å¾…

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `POST /api/companies/{companyId}/users`

**èª¬æ˜**: æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä¼šç¤¾ã«æ‹›å¾…ã—ã€å½¹å‰²ã‚’ä»˜ä¸ã—ã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `companyId` | integer | Yes | ä¼šç¤¾ID |

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "userId": 2,
  "role": "accountant"
}
```

**å½¹å‰²ï¼ˆroleï¼‰**:
- `admin`: ç®¡ç†è€…ï¼ˆå…¨æ¨©é™ï¼‰
- `accountant`: çµŒç†æ‹…å½“ï¼ˆä»•è¨³ãƒ»ãƒ¬ãƒãƒ¼ãƒˆãƒ»ãƒã‚¹ã‚¿ç®¡ç†ï¼‰
- `viewer`: é–²è¦§è€…ï¼ˆå‚ç…§ã®ã¿ï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ201 Createdï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 2,
    "userId": 2,
    "companyId": 1,
    "role": "accountant",
    "isActive": true,
    "user": {
      "id": 2,
      "email": "accountant@example.com",
      "username": "ä½è—¤èŠ±å­"
    },
    "createdAt": "2025-01-15T11:00:00.000Z",
    "updatedAt": "2025-01-15T11:00:00.000Z"
  }
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- `409 Conflict`: æ—¢ã«ä¼šç¤¾ã«æ‰€å±ã—ã¦ã„ã‚‹
  ```json
  {
    "status": "error",
    "error": {
      "code": "USER_ALREADY_IN_COMPANY",
      "message": "ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æ—¢ã«ä¼šç¤¾ã«æ‰€å±ã—ã¦ã„ã¾ã™"
    }
  }
  ```

---

### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å½¹å‰²ã‚’å¤‰æ›´

**ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**: `PUT /api/companies/{companyId}/users/{userId}`

**èª¬æ˜**: ä¼šç¤¾å†…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å½¹å‰²ã‚’å¤‰æ›´ã—ã¾ã™ã€‚

**ãƒ‘ã‚¹ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**:
| ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ | å‹ | å¿…é ˆ | èª¬æ˜ |
|-----------|-----|------|------|
| `companyId` | integer | Yes | ä¼šç¤¾ID |
| `userId` | integer | Yes | ãƒ¦ãƒ¼ã‚¶ãƒ¼ID |

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "role": "admin"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹ï¼ˆ200 OKï¼‰**:
```json
{
  "status": "success",
  "data": {
    "id": 2,
    "userId": 2,
    "companyId": 1,
    "role": "admin",
    "isActive": true,
    "updatedAt": "2025-01-15T12:00:00.000Z"
  },
  "message": "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å½¹å‰²ã‚’å¤‰æ›´ã—ã¾ã—ãŸ"
}
```

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | å¤‰æ›´å†…å®¹ |
|------|-----------|---------|
| 2025-11-28 | 1.0 | åˆç‰ˆä½œæˆï¼ˆåŸºæœ¬æ–¹é‡ã€ãƒã‚¹ã‚¿ç®¡ç†ç³»APIï¼‰ |
| 2025-11-28 | 2.0 | å®Œå…¨ç‰ˆä½œæˆï¼ˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³»ã€ãƒ¬ãƒãƒ¼ãƒˆç³»ã€ä¼šè¨ˆæœŸé–“ç®¡ç†ã€èªè¨¼ãƒ»èªå¯APIã‚’è¿½åŠ ï¼‰ |
