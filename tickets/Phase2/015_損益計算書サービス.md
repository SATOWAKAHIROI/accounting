# チケット #015: 損益計算書サービス

## ステータス
- [x] 完了

## 機能概要
損益計算書の生成、収益・費用の集計、PDF/Excel出力を提供するサービスクラス。

## 実装ファイル
- [x] `service/ProfitLossService.java`
- [x] `dto/response/ProfitLossReport.java`（新規作成）

## 主要メソッド
- `ProfitLossReport generate(Long companyId, LocalDate startDate, LocalDate endDate)` - P/L生成
- `byte[] exportPdf(ProfitLossReport report)` - PDF出力
- `byte[] exportExcel(ProfitLossReport report)` - Excel出力

## レポート内容（計算項目）
1. **売上高**（REVENUE勘定科目の貸方残高合計）
2. **売上原価**（該当する EXPENSE勘定科目）
3. **売上総利益** = 売上高 - 売上原価
4. **販売費及び一般管理費**（該当する EXPENSE勘定科目）
5. **営業利益** = 売上総利益 - 販管費
6. **営業外収益**（該当する REVENUE勘定科目）
7. **営業外費用**（該当する EXPENSE勘定科目）
8. **経常利益** = 営業利益 + 営業外収益 - 営業外費用
9. **特別利益**（該当する REVENUE勘定科目）
10. **特別損失**（該当する EXPENSE勘定科目）
11. **税引前当期純利益** = 経常利益 + 特別利益 - 特別損失

## 計算ロジック
- REVENUE勘定科目: 貸方合計 - 借方合計
- EXPENSE勘定科目: 借方合計 - 貸方合計
- 期間内の仕訳明細から集計

## 依存関係
- JournalDetailRepository
- AccountRepository
