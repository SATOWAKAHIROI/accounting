# チケット #013: 総勘定元帳サービス

## ステータス
- [x] 完了

## 機能概要
総勘定元帳の生成、PDF/Excel出力を提供するサービスクラス。

## 実装ファイル
- [x] `service/GeneralLedgerService.java`
- [x] `dto/response/GeneralLedgerReport.java`（新規作成）
- [x] `dto/response/GeneralLedgerEntry.java`（新規作成）

## 主要メソッド
- `GeneralLedgerReport generate(Long companyId, Long accountId, LocalDate start, LocalDate end)` - 総勘定元帳生成
- `byte[] exportPdf(GeneralLedgerReport report)` - PDF出力
- `byte[] exportExcel(GeneralLedgerReport report)` - Excel出力

## レポート内容
- 勘定科目情報（コード、名前、タイプ）
- 期間（開始日、終了日）
- 期首残高
- 取引明細リスト
  - 日付
  - 仕訳番号
  - 摘要
  - 借方金額
  - 貸方金額
  - 残高
- 期末残高

## 計算ロジック
- 期首残高 = 開始日より前の取引の累積残高
- 残高計算:
  - 資産・費用: 残高 += 借方金額 - 貸方金額
  - 負債・純資産・収益: 残高 += 貸方金額 - 借方金額
- 期末残高 = 期首残高 + 期間内の借方合計 - 期間内の貸方合計

## PDF/Excel生成
- Apache PDFBox（PDF）、Apache POI（Excel）を使用
- ヘッダー: 会社名、勘定科目、期間
- テーブル: 日付、摘要、借方、貸方、残高
- フッター: 合計行

## 依存関係
- JournalRepository
- JournalDetailRepository
- AccountRepository
