# チケット #016: 貸借対照表サービス

## ステータス
- [x] 完了

## 機能概要
貸借対照表の生成、資産・負債・純資産の集計、PDF/Excel出力を提供するサービスクラス。

## 実装ファイル
- [x] `service/BalanceSheetService.java`
- [x] `dto/response/BalanceSheetReport.java`（新規作成）

## 主要メソッド
- `BalanceSheetReport generate(Long companyId, LocalDate asOfDate)` - B/S生成
- `byte[] exportPdf(BalanceSheetReport report)` - PDF出力
- `byte[] exportExcel(BalanceSheetReport report)` - Excel出力

## レポート内容（計算項目）

### 資産の部
1. **流動資産**（該当するASSET勘定科目の合計）
2. **固定資産**（該当するASSET勘定科目の合計）
3. **資産合計** = 流動資産 + 固定資産

### 負債の部
4. **流動負債**（該当するLIABILITY勘定科目の合計）
5. **固定負債**（該当するLIABILITY勘定科目の合計）
6. **負債合計** = 流動負債 + 固定負債

### 純資産の部
7. **純資産**（EQUITY勘定科目の合計 + 当期純利益）
8. **負債・純資産合計** = 負債合計 + 純資産

## 計算ロジック
- ASSET勘定科目: 借方合計 - 貸方合計（基準日まで）
- LIABILITY勘定科目: 貸方合計 - 借方合計（基準日まで）
- EQUITY勘定科目: 貸方合計 - 借方合計（基準日まで）
- **資産合計 = 負債・純資産合計**であることを検証

## 依存関係
- JournalDetailRepository
- AccountRepository
- ProfitLossService（当期純利益の取得用）
