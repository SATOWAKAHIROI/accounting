# チケット #014: 試算表サービス

## ステータス
- [x] 完了

## 機能概要
試算表の生成、残高集計、PDF/Excel出力を提供するサービスクラス。

## 実装ファイル
- [x] `service/TrialBalanceService.java`
- [x] `dto/response/TrialBalanceReport.java`（新規作成）
- [x] `dto/response/TrialBalanceEntry.java`（新規作成）

## 主要メソッド
- `TrialBalanceReport generate(Long companyId, LocalDate asOfDate)` - 試算表生成
- `byte[] exportPdf(TrialBalanceReport report)` - PDF出力
- `byte[] exportExcel(TrialBalanceReport report)` - Excel出力

## レポート内容
- 基準日
- 勘定科目別の集計
  - 勘定科目コード
  - 勘定科目名
  - 勘定科目タイプ
  - 借方残高
  - 貸方残高
- 合計行
  - 借方合計
  - 貸方合計
  - 貸借差額（0であることを確認）

## 計算ロジック
- 各勘定科目の基準日時点での残高を計算
- 借方残高 = 借方合計 - 貸方合計（正の場合）
- 貸方残高 = 貸方合計 - 借方合計（正の場合）
- 借方合計 = 貸方合計であることを検証（複式簿記の原則）

## 依存関係
- JournalDetailRepository
- AccountRepository
